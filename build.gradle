plugins {
  id 'com.github.johnrengelman.shadow' version '1.2.3'
  id 'com.zoltu.kotlin' version '1.0.4'
}

apply plugin: 'kotlin'
apply plugin: 'application'

project.ext {
  dropwizardVersion = '0.9.1'
  kotlinVersion = '1.0.4'
}

mainClassName = 'de.perschon.dropwizardtest.DropwizardTestApplicationKt'
run {
  args 'server', "${rootProject.projectDir}/config/dev.yml"
}

repositories {
  mavenCentral()
}

dependencies {
  compile (
    "io.dropwizard:dropwizard-core:${dropwizardVersion}",
    "org.jetbrains.kotlin:kotlin-stdlib:${kotlinVersion}"
  )

  testCompile (
    "org.assertj:assertj-core:3.5.2",
    "junit:junit:4.12",
    "io.dropwizard:dropwizard-client:1.0.3",
    "io.dropwizard:dropwizard-testing:1.0.3"
  )
}
